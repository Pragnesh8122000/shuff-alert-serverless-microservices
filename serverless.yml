service: src-service
frameworkVersion: "4"

provider:
  name: aws
  runtime: nodejs18.x
  versionFunctions: false
  stage: "dev"
  region: "ap-south-1"
  httpApi:
    cors:
      allowedOrigins:
        - "*"
      allowedHeaders:
        - "Content-Type"
        - "Authorization"
        - "accesstoken"
      allowedMethods:
        - GET
        - POST
        - PUT
        - DELETE
    authorizers:
      adminAuthorizer:
        type: request
        functionArn: arn:aws:lambda:ap-south-1:433591551881:function:adminAuthorizer
  timeout: 30

functions: 
  AddNotification:
    handler: src/handler.AddNotification
    events:
      - httpApi:
          path: /web/addNotification
          method: post
          authorizer: adminAuthorizer
  
  GetAllNotificationList:
    handler: src/handler.GetAllNotificationList
    events:
      - httpApi:
          path: /web/getAllNotificationList
          method: post
          authorizer: adminAuthorizer

  ViewNotificationById:
    handler: src/handler.ViewNotificationById
    events:
      - httpApi:
          path: /web/viewNotificationById
          method: post
          authorizer: adminAuthorizer
  
  EditNotification:
    handler: src/handler.EditNotification
    events:
      - httpApi:
          path: /web/editNotification
          method: post
          authorizer: adminAuthorizer

package:
  individually: true
  include:
    - src/package.json
  exclude:
    - node_modules/**
    - tests/**
    - .git/**
    - logs/**
    - docs/**

plugins:
  - serverless-offline
  - serverless-plugin-warmup
  - serverless-prune-plugin
  - serverless-package-external
  - serverless-dotenv-plugin
